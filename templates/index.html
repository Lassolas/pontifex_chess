<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Attack Recognition Task</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Name Input Screen -->
    <div id="name-input-screen" class="screen">
        <h1>Chess Attack Recognition Task</h1>
        <div class="input-container">
            <label for="patient-name">Enter your name:</label>
            <input type="text" id="patient-name" placeholder="Your name">
            <button id="start-button">Start</button>
        </div>
    </div>

    <!-- Intro Screen -->
    <div id="intro-screen" class="screen" style="display: none;">
        <h1>Test Configuration</h1>
        <div class="config-container">
            <div class="difficulty-section">
                <h2>Select Difficulty</h2>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn">Easy</button>
                    <button class="difficulty-btn">Medium</button>
                    <button class="difficulty-btn">Hard</button>
                    <button class="difficulty-btn">Very Hard</button>
                </div>
            </div>
            <div class="duration-section">
                <h2>Test Duration</h2>
                <div class="duration-buttons">
                    <button class="duration-btn">Short (20 sec)</button>
                    <button class="duration-btn">Medium (1.5 min)</button>
                    <button class="duration-btn">Long (3 min)</button>
                    <button class="duration-btn">Extended (6 min)</button>
                </div>
            </div>
            <div class="time-section">
                <h2>Board Display Time</h2>
                <input type="range" id="time-slider" min="0.1" max="10" step="0.1" value="3">
                <span id="time-value">3.0s</span>
            </div>
            <button id="begin-button">Begin Test</button>
        </div>
    </div>

    <!-- Countdown Screen -->
    <div id="countdown-screen" class="screen" style="display: none;">
        <h1 id="countdown-text">3</h1>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen" style="display: none;">
        <div class="game-header">
            <div id="timer">5:00</div>
            <div id="trial-count">Trial 1</div>
        </div>
        <div class="game-container">
            <div id="attacking-piece" class="attacking-piece"></div>
            <div id="instruction-text" class="instruction-text"></div>
            <div id="chessboard" class="chessboard"></div>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="screen" style="display: none;">
        <h1>Test Complete</h1>
        <div id="results-summary" class="results-summary"></div>
        
        <!-- Leaderboard Section -->
        <div id="leaderboard-container" class="leaderboard-container">
            <h2>Leaderboard</h2>
            <div id="leaderboard-loading">Loading leaderboard...</div>
            <table id="leaderboard-table" style="display: none;">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Name</th>
                        <th>IES (s)</th>
                        <th>Difficulty</th>
                        <th>Board Time</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body">
                    <!-- Leaderboard entries will be added here dynamically -->
                </tbody>
            </table>
        </div>
        
        <div class="results-buttons">
        <button id="download-button">Download Results</button>
    </div>
    </div>

    <script src="{{ url_for('static', filename='js/chess.js') }}"></script>
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html> 